{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Anton/Desktop/ATOS PROJECT/Azure-Build/src/main/app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Anton/Desktop/ATOS PROJECT/Azure-Build/src/main/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import DisplayPDF from\"./DisplayPDF\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];var filenames=[\"Personal-Details-Form\",\"Bank-Details-Form\",\"Criminal-Record-Declaration\",\"Diversity-Monitoring\",\"Driver-Fair-Processing\",\"HMRC-Checklist\",\"Life-Assurance\",\"Referees-Form\"];useEffect(function(){function fetchEmptyForms(i){if(i===filenames.length){return;};axios.get(\"/api/v1/person/empty-forms/\"+filenames[i]+\".pdf\",{responseType:\"blob\"}).then(function(res){var blob=new Blob([res.data]);var objectUrl=URL.createObjectURL(blob);setFiles(function(files){return[].concat(_toConsumableArray(files),[objectUrl]);});return fetchEmptyForms(i+1);}).catch(function(err){console.log(\"Error in getting PDFs!\"+err);});};fetchEmptyForms(0);},[]);var viewPDF=files.map(function(file,index){return/*#__PURE__*/_jsx(DisplayPDF,{file:file,docTitle:filenames[index].replaceAll(\"-\",\" \")});});return/*#__PURE__*/_jsx(\"div\",{className:\"container text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"form-title\",children:\"Homepage\"}),viewPDF,/*#__PURE__*/_jsxs(\"div\",{className:\"row my-4 justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/\");},className:\"btn btn-danger col-4 mx-1\",children:\"Log out\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/personal-details\");},className:\"btn btn-primary col-4 mx-1\",children:\"Next\"})]})]})});}","map":{"version":3,"sources":["C:/Users/Anton/Desktop/ATOS PROJECT/Azure-Build/src/main/app/src/components/Home.js"],"names":["React","useState","useEffect","useNavigate","axios","DisplayPDF","Home","navigate","files","setFiles","filenames","fetchEmptyForms","i","length","get","responseType","then","res","blob","Blob","data","objectUrl","URL","createObjectURL","catch","err","console","log","viewPDF","map","file","index","replaceAll"],"mappings":"4SAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,cAAe,SAASC,CAAAA,IAAT,EAAgB,CAE3B,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,SAAS,CAAG,CAAC,uBAAD,CAA0B,mBAA1B,CAA+C,6BAA/C,CAA8E,sBAA9E,CAAsG,wBAAtG,CAAgI,gBAAhI,CAAkJ,gBAAlJ,CAAoK,eAApK,CAAlB,CAEAR,SAAS,CAAC,UAAM,CACZ,QAASS,CAAAA,eAAT,CAAyBC,CAAzB,CAA4B,CACxB,GAAIA,CAAC,GAAKF,SAAS,CAACG,MAApB,CAA4B,CAAE,OAAS,EAEvCT,KAAK,CAACU,GAAN,CAAU,8BAAgCJ,SAAS,CAACE,CAAD,CAAzC,CAA+C,MAAzD,CAAiE,CAAEG,YAAY,CAAE,MAAhB,CAAjE,EACCC,IADD,CACM,SAAAC,GAAG,CAAI,CACT,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAS,CAACF,GAAG,CAACG,IAAL,CAAT,CAAb,CACA,GAAMC,CAAAA,SAAS,CAAGC,GAAG,CAACC,eAAJ,CAAoBL,IAApB,CAAlB,CACAT,QAAQ,CAAC,SAAAD,KAAK,qCAAQA,KAAR,GAAea,SAAf,IAAN,CAAR,CAEA,MAAOV,CAAAA,eAAe,CAACC,CAAC,CAAG,CAAL,CAAtB,CACH,CAPD,EAQCY,KARD,CAQO,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAY,yBAA2BF,GAAvC,EACH,CAVD,EAWH,EAEDd,eAAe,CAAC,CAAD,CAAf,CAEH,CAnBQ,CAmBN,EAnBM,CAAT,CAqBA,GAAMiB,CAAAA,OAAO,CAAGpB,KAAK,CAACqB,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,qBACtB,KAAC,UAAD,EAAY,IAAI,CAAED,IAAlB,CAAwB,QAAQ,CAAEpB,SAAS,CAACqB,KAAD,CAAT,CAAiBC,UAAjB,CAA4B,GAA5B,CAAiC,GAAjC,CAAlC,EADsB,EAAV,CAAhB,CAIA,mBACI,YAAK,SAAS,CAAC,uBAAf,uBACI,aAAK,SAAS,CAAC,4BAAf,wBACI,WAAI,SAAS,CAAC,YAAd,sBADJ,CAGKJ,OAHL,cAKI,aAAK,SAAS,CAAC,iCAAf,wBACI,eAAQ,OAAO,CAAE,yBAAMrB,CAAAA,QAAQ,CAAC,GAAD,CAAd,EAAjB,CAAsC,SAAS,CAAC,2BAAhD,qBADJ,cAEI,eAAQ,OAAO,CAAE,yBAAMA,CAAAA,QAAQ,CAAC,mBAAD,CAAd,EAAjB,CAAsD,SAAS,CAAC,4BAAhE,kBAFJ,GALJ,GADJ,EADJ,CAcH","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport DisplayPDF from \"./DisplayPDF\";\n\nexport default function Home() {\n\n    const navigate = useNavigate();\n    const [files, setFiles] = useState([]);\n    const filenames = [\"Personal-Details-Form\", \"Bank-Details-Form\", \"Criminal-Record-Declaration\", \"Diversity-Monitoring\", \"Driver-Fair-Processing\", \"HMRC-Checklist\", \"Life-Assurance\", \"Referees-Form\"];\n\n    useEffect(() => {\n        function fetchEmptyForms(i) {\n            if (i === filenames.length) { return; };\n\n            axios.get(\"/api/v1/person/empty-forms/\" + filenames[i] + \".pdf\", { responseType: \"blob\" })\n            .then(res => {\n                const blob = new Blob([res.data]);\n                const objectUrl = URL.createObjectURL(blob);\n                setFiles(files => [...files, objectUrl]);\n\n                return fetchEmptyForms(i + 1);\n            })\n            .catch(err => {\n                console.log(\"Error in getting PDFs!\" + err);\n            })\n        };\n\n        fetchEmptyForms(0);\n        \n    }, [])\n\n    const viewPDF = files.map((file, index) => (\n        <DisplayPDF file={file} docTitle={filenames[index].replaceAll(\"-\", \" \")}/>\n    ));\n\n    return (\n        <div className=\"container text-center\">\n            <div className=\"row justify-content-center\">\n                <h1 className=\"form-title\">Homepage</h1>\n\n                {viewPDF}\n\n                <div className=\"row my-4 justify-content-center\">\n                    <button onClick={() => navigate(\"/\")} className=\"btn btn-danger col-4 mx-1\">Log out</button>\n                    <button onClick={() => navigate(\"/personal-details\")} className=\"btn btn-primary col-4 mx-1\">Next</button>\n                </div> \n            </div> \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}